# 腾讯云开发邮箱登录配置指南

## 错误说明

如果你看到以下错误：
```json
{
    "error": "not_found",
    "error_code": 5,
    "error_description": "provider email not found from endpoint"
}
```

这表示**邮箱登录方式没有在腾讯云控制台启用**。

## 解决步骤

### 第一步：登录腾讯云控制台

1. 访问：https://console.cloud.tencent.com/tcb
2. 使用你的腾讯云账号登录

### 第二步：选择你的环境

1. 在环境列表中找到：`mistake-record-1gfkpu0t4d9e8174`
2. 点击进入该环境

### 第三步：启用邮箱登录

1. 在左侧菜单中，找到 **用户管理** 或 **身份认证**
2. 点击 **登录方式** 或 **登录授权**
3. 找到 **邮箱登录** 或 **邮箱密码登录**
4. 点击 **启用** 或 **开启**

### 第四步：配置邮件服务（两种方式）

#### 方式1：使用内置邮件服务（推荐，免费）

1. 选择 **使用云开发内置邮件服务**
2. 点击保存
3. ✅ 完成！无需其他配置

#### 方式2：使用自定义 SMTP（可选）

如果你想使用自己的邮箱服务器：
1. 选择 **自定义 SMTP 服务器**
2. 填写以下信息：
   - SMTP 服务器地址
   - 端口
   - 发件邮箱
   - 授权码/密码
3. 点击保存

### 第五步：设置验证码模板（可选）

1. 在邮箱登录设置中，找到 **验证码模板**
2. 自定义邮件标题和内容（可选）
3. 默认模板通常已经够用

### 第六步：保存并测试

1. 确保所有设置已保存
2. 回到你的应用：http://localhost:4001
3. 刷新页面
4. 尝试发送验证码

## 常见问题

### Q1: 找不到"邮箱登录"选项？

**可能的位置：**
- 用户管理 → 登录方式
- 身份认证 → 登录方式
- 用户管理 → 登录授权
- Authentication → Login Methods

### Q2: 启用后还是报错？

1. 确认已点击**保存**按钮
2. 等待 1-2 分钟让配置生效
3. 刷新浏览器页面重试
4. 检查浏览器控制台是否有新的错误信息

### Q3: 邮箱验证码收费吗？

✅ **使用内置邮件服务发送验证码是免费的**
- 不收取额外费用
- 只有短信验证码才收费

### Q4: 验证码多久过期？

- 默认 5-10 分钟
- 可以在控制台自定义过期时间

### Q5: 一天可以发送多少次验证码？

- 使用内置服务通常有每日限额
- 具体限额请查看腾讯云文档
- 正常使用不会超限

## 截图参考

控制台路径示例：
```
腾讯云控制台
  └─ 云开发 CloudBase
      └─ 选择环境 (mistake-record-1gfkpu0t4d9e8174)
          └─ 用户管理
              └─ 登录方式
                  └─ 邮箱登录 [启用]
```

## 其他登录方式（可选）

如果邮箱登录暂时配置不了，你也可以启用：

1. **匿名登录**（已支持）
   - 路径：用户管理 → 登录方式 → 匿名登录
   - 点击启用即可

2. **用户名密码登录**
   - 路径：用户管理 → 登录方式 → 用户名密码登录
   - 点击启用即可
   - 不需要验证码

3. **微信登录**（如果你的应用需要）
   - 需要微信开放平台配置

## 完成后的验证

配置完成后，再次点击"发送验证码"，应该会看到：
- ✅ "验证码已发送到邮箱" 的提示
- ✅ 60秒倒计时开始
- ✅ 邮箱收到验证码邮件

## 需要帮助？

如果按照以上步骤操作后仍然有问题，请提供：
1. 控制台的截图（遮盖敏感信息）
2. 浏览器控制台的完整错误信息
3. 你尝试的具体步骤
